<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>InitiateÔºÅ</title>
    </head>
    <body>
        <script>
            let country_code; // Declare countryCode outside the fetch block

            fetch("https://ipapi.co/json")
                .then((response) => response.json()) // Fix: Call response.json() instead of response.json
                .then(function (getIP) {
                    console.log(getIP.country_code);
                    country_code = getIP.country_code;
                    return country_code;
                })
                .then(() => {
                    const num = Math.floor(Math.random() * 8 + 1);
                    if (country_code === "CN") { // Fix: Use triple equals (===) for strict comparison
                        switch (num) {
                            case 1:
                                window.location = "https://www.benghuai.com";
                                break;
                            case 2:
                                window.location = "https://bh3.mihoyo.com";
                                break;
                            case 3:
                                window.location = "https://wd.mihoyo.com";
                                break;
                            case 4:
                                window.location = "https://ys.mihoyo.com";
                                break;
                            case 5:
                                window.location = "https://sr.mihoyo.com";
                                break;
                            case 6:
                                window.location = "https://zzz.mihoyo.com";
                                break;
                            case 7:
                                window.location = "https://bbs.mihoyo.com";
                                break;
                            case 8:
                                window.location = "https://www.mihoyo.com";
                                break;
                            default:
                                document.write("Error!")
                        }
                    } else {
                        switch (num) {
                            case 1:
                                window.location = "https://bluearchive.nexon.com";
                                break;
                            case 2:
                                window.location = "https://honkaiimpact3.hoyoverse.com";
                                break;
                            case 3:
                                window.location = "https://tot.hoyoverse.com";
                                break;
                            case 4:
                                window.location = "https://genshin.hoyoverse.com";
                                break;
                            case 5:
                                window.location = "https://hsr.hoyoverse.com";
                                break;
                            case 6:
                                window.location = "https://zenless.hoyoverse.com";
                                break;
                            case 7:
                                window.location = "https://www.hoyolab.com";
                                break;
                            case 8:
                                window.location = "https://www.hoyoverse.com";
                            default:
                                document.write("Error!")
                        }
                    }
                });
        </script>
    </body>
</html>
